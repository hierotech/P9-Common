!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("big.js"),require("decimal.js"),require("react-dom"),require("react")):"function"==typeof define&&define.amd?define(["big.js","decimal.js","react-dom","react"],t):"object"==typeof exports?exports.P9Common=t(require("big.js"),require("decimal.js"),require("react-dom"),require("react")):e.P9Common=t(e["big.js"],e["decimal.js"],e["react-dom"],e.react)}(self,(function(e,t,n,r){return(()=>{var i={228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},646:(e,t,n)=>{var r=n(228);e.exports=function(e){if(Array.isArray(e))return r(e)}},860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,u=undefined;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,u=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw u}}return n}}},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(e,t,n)=>{var r=n(858),i=n(884),u=n(379),o=n(521);e.exports=function(e,t){return r(e)||i(e,t)||u(e,t)||o()}},319:(e,t,n)=>{var r=n(646),i=n(860),u=n(379),o=n(206);e.exports=function(e){return r(e)||i(e)||u(e)||o()}},379:(e,t,n)=>{var r=n(228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},344:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Assets:()=>i,Constants:()=>r,Currency:()=>u,Frontend:()=>o,Funds:()=>a,Helper:()=>c,Hooks:()=>s});var r={};n.r(r),n.d(r,{ASSET_COMPONENT_MODES:()=>g,CANDLESTICK_INTERVALS:()=>v,DATA_PROVIDERS:()=>y,DEAL_TYPES:()=>E,DEMAND_TYPES:()=>S,DEPOSIT_FEE_USD:()=>P,EXPECTED_SELL_FEE_COEFF:()=>b,FILE_TYPES:()=>C,IDENTITY_CARD_TYPES:()=>T,IMAGE_MIME_TYPES:()=>O,RX_BTC_ADDRESS:()=>j,RX_DATE:()=>q,RX_DATE_ANY:()=>L,RX_EMAIL:()=>W,RX_NUMERIC:()=>H,RX_NUMERIC_NON_NEGATIVE:()=>z,RX_NUMERIC_POSITIVE:()=>Y,RX_UUID:()=>B,SUCCESS_FEE_DISCOUNT_PROMO:()=>I,SUCCESS_FEE_DISCOUNT_PROMO_PERIOD:()=>R,TRANSACTION_TYPES:()=>w,UPLOAD_TYPES:()=>h,USER_DOCUMENT_MIME_TYPES:()=>U,USER_ID_SELF:()=>D,USER_LOCK_REASONS:()=>A,WITHDRAW_FEE_USD_BASE:()=>N,WITHDRAW_FEE_USD_COEFF:()=>x,WITHDRAW_FEE_USD_MAX:()=>M,WITHDRAW_FEE_USD_MIN:()=>F});var i={};n.r(i),n.d(i,{getAverageBuyPrice:()=>V,getBuyAmountSum:()=>k,getBuyPriceAmountSum:()=>$,getClosedUsedBuyingPower:()=>Z,getGrossProfit:()=>J,getGrossValue:()=>Q,getNetProfit:()=>ue,getOneMinusStrategyCoefficient:()=>ee,getOpenedUsedBuyingPower:()=>K,getRealizedNetProfit:()=>oe,getRealizedSellFee:()=>re,getRealizedSuccessFee:()=>te,getSellFee:()=>ie,getSuccessFee:()=>ne,getSuccessFeeDiscount:()=>X,getUsedBuyingPower:()=>G});var u={};n.r(u),n.d(u,{CRYPTO_UNIT_ATOM_COUNT:()=>le,CURRENCY_SIGN:()=>de,CURRENCY_TYPES:()=>me,DECIMAL_DIGIT_COUNT:()=>fe,cryptoAtomsToUnit:()=>ve,formatCurrency:()=>ye,isCryptoCurrency:()=>Se,isFiatCurrency:()=>Ee,ratioPercent:()=>we,unitToCryptoAtoms:()=>ge});var o={};n.r(o),n.d(o,{copyTextToClipboard:()=>Ne,createAssetLogoUrl:()=>be,createAssetPlaceholderUrl:()=>Ie,createUserAvatarUrl:()=>Re,createWindow:()=>Pe,findElement:()=>xe,formatDate:()=>Me,formatTimerTime:()=>Fe,getTextWidth:()=>je,getWindowSize:()=>qe,init:()=>Le,isExternalUrl:()=>We,measureElement:()=>He});var a={};n.r(a),n.d(a,{getWithdrawFeeUsd:()=>ze});var c={};n.r(c),n.d(c,{TIMESTAMP_PRECISION:()=>Ye,createAddressString:()=>Ge,createFullName:()=>Ke,createTimestamp:()=>Ze,delay:()=>Qe,excludeFields:()=>tt,exposeFields:()=>nt,extractCount:()=>Je,hasOwnProperty:()=>et,isAgreementAgentSignedOrRequestedStatus:()=>rt,isAgreementSignedOrRequestedStatus:()=>ut,isAgreementSignedStatus:()=>it,isVerifiedOrRequestedStatus:()=>at,isVerifiedStatus:()=>ot,stringifyQuery:()=>ct,toChunks:()=>st});var s={};n.r(s),n.d(s,{useCurrentDate:()=>mt,useElementSize:()=>pt,useWindowSize:()=>_t});var f=n(319),d=n.n(f),l=n(297),m=n.n(l),p=n(815),_=n.n(p),v=["1m","5m","15m","1h","4h","1d"],g=["addition","subtraction"],y=["binance","bitmex","coinmarketcap","cryptocompare","deribit","iex"],E=["IPO","PRE_IPO","STARTUP","ETF"],S=["COLD","WARM","HOT"],w=["deposit","withdraw"],T=["passport"],h=["user_avatar","user_passport","user_residence_proof","user_passport_selfie","asset_logo","asset_placeholder"],C=[].concat(h,["user_agreement_signed","user_agreement_agent_signed","user_invoice_pdf"]),A=["password_change"],D="self",O=["image/png","image/jpeg"],U=[].concat(O,["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]),b=.005,I=.5,R=15552e6,P=10,N=20,x=.0015,M=100,F=30,j=/^\w{14,74}$/,q=/^20(1[6-9]|[2-9][0-9])-(0[1-9]|1[0-2])-([0-2][0-9]|3[0-1])T[0-5][0-9]:[0-5][0-9]:[0-5][0-9].[0-9]{3}Z$/,L=/^[1-2][0-9]{3}-(0[1-9]|1[0-2])-([0-2][0-9]|3[0-1])T[0-5][0-9]:[0-5][0-9]:[0-5][0-9].[0-9]{3}Z$/,W=/^[^@]+@[^@]+$/,H=/^[0-9]+(\.[0-9]+)?$/,z=/^[0-9]+(\.[0-9]+)?$/,Y=/^([0-9]+\.0*[1-9][0-9]*|0*[1-9][0-9]*(\.[0-9]+)?)$/,B=/^[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}$/i;function X(e){var t=e.success_fee_discount,n=Date.now()<new Date(e.created_at).getTime()+R,r=e.referrer_id&&n?I:null;return t&&r?Math.max(Number(t),r):t||r}function $(e){return e.filter((function(e){return"buy"===e.type})).reduce((function(e,t){var n=t.quantity,r=t.price;return e.plus(new(m())(r).times(n))}),new(m())(0))}function k(e){return e.filter((function(e){return"buy"===e.type})).reduce((function(e,t){var n=t.quantity;return e.plus(n)}),new(m())(0))}function V(e){var t=$(e),n=k(e);return n.eq(0)?new(m())(0):t.div(n)}function G(e){var t=$(e),n=k(e);if(n.eq(0))return new(m())(0);var r=t.div(n),i=e.filter((function(e){return"sell"===e.type})).reduce((function(e,t){var n=t.quantity;return e.plus(r.times(n))}),new(m())(0));return t.minus(i)}function K(e){return $(e)}function Z(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null,r=n&&new Date(n),i=r?e.filter((function(e){return new Date(e.timestamp)<r})):e,u=$(i),o=k(i);if(o.eq(0))return new(m())(0);var a=u.div(o);return a.times(t)}function Q(e,t){var n=new(m())(e.price_last).times(e.quantity);if("ETF"===e.deal_type)return n;var r=t.filter((function(e){return"sell"===e.type})).reduce((function(e,t){var n=t.quantity,r=t.price;return e.plus(new(m())(r).times(n))}),new(m())(0));return n.plus(r)}function J(e,t){var n=Q(e,t);return"ETF"===e.deal_type?n.minus(G(t)):n.minus($(t))}function ee(e){var t=G(e);if(t.eq(0))return new(m())(0);if(t.lte(1e4))return new(m())(.2);if(t.gte(12e5))return new(m())(.04);var n=new(_())(t.toString()).pow(.876);return new(m())(50.75).minus(_().log(n,1.3)).div(100)}function te(e){return e.filter((function(e){return"success_fee"===e.type})).reduce((function(e,t){var n=t.amount;return e.plus(n)}),new(m())(0))}function ne(e,t,n){if("closed"===e.deal_status)return te(t);var r=V(t),i=new(m())(e.price_last).minus(r).times(e.quantity),u=t.filter((function(e){return"sell"===e.type})).reduce((function(e,t){var n=t.price,i=t.quantity;return e.plus(new(m())(i).times(new(m())(n).minus(r)))}),new(m())(0)),o=n&&X(n),a=i.plus(u),c=a.gt(0)?a.times(ee(t)):new(m())(0);return o?c.times(new(m())(1).minus(o)):c}function re(e){return e.filter((function(e){return"sell_fee"===e.type})).reduce((function(e,t){var n=t.amount;return e.plus(n)}),new(m())(0))}function ie(e,t){return"ETF"===e.deal_type||"closed"===e.deal_status?re(t):Q(e,t).times(b)}function ue(e,t,n){var r=J(e,t);if("ETF"===e.deal_type)return r;var i=ne(e,t,n),u=ie(e,t);return r.minus(i.plus(u))}function oe(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null,i=t.reduce((function(e,t){var n=t.quantity,r=t.price;return e.plus(new(m())(r).times(n))}),new(m())(0)),u=t.reduce((function(e,t){var n=t.quantity;return e.plus(n)}),new(m())(0)),o=new Date(Math.max.apply(Math,d()(t.map((function(e){return e.timestamp}))))),a=i.minus(Z(e,u,o)),c=n&&new Date(n),s=r&&new Date(r),f=c&&s?e.filter((function(e){var t=new Date(e.timestamp);return t>=c&&t<s})):e,l=te(f),p=re(f);return a.minus(l.plus(p))}var ae=n(38),ce=n.n(ae),se=new Set(["USD"]),fe={USD:2,BTC:8},de={USD:"$",BTC:"â‚¿"},le={BTC:new(m())("100000000")},me=["USD","BTC"];function pe(e,t){return de[t]+" "+e}function _e(e){var t=e.split("."),n=ce()(t,2),r=n[0],i=n[1];return"".concat(r.replace(/\B(?=(\d{3})+(?!\d))/g,","),".").concat(i)}function ve(e,t){return new(m())(e).div(le[t])}function ge(e,t){return Number(new(m())(e).times(le[t]).toFixed(0))}function ye(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=n.withSign,i=void 0!==r&&r,u=n.withSeparators,o=void 0===u?i:u,a=fe[t],c=new(m())(e),s=c.toFixed(a);return o&&(s=_e(s)),i&&(s=pe(s,t)),s}function Ee(e){return se.has(e.toUpperCase())}function Se(e){return!Ee(e)}function we(e,t){var n=new(m())(e),r=new(m())(t);return n.div(r).times(100)}var Te=n(268),he=3600,Ce=null,Ae=null,De=null,Oe=null;function Ue(e,t,n,r){if(!Ce)throw new Error("bucketUrl is not initialized");return"".concat(Ce,"/").concat(e,"/").concat(t,"/").concat(n,"/").concat(r)}function be(e){var t=e.files.find((function(e){return"asset_logo"===e.type}));return Ue("assets",e.ticker,"logo",t.name)}function Ie(e){if(!Ae)throw new Error("defaultAssetPlaceholder is not initialized");var t=e.files.find((function(e){return"asset_placeholder"===e.type}));return t?Ue("assets",e.ticker,"placeholder",t.name):Ae}function Re(e){if(!De)throw new Error("defaultAvatar is not initialized");var t=e.files.find((function(e){return"user_avatar"===e.type}));return t?Ue("users",e.user_id,"avatar",t.name):De}function Pe(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=window.open(e);t&&n&&n.focus()}function Ne(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.opacity="0",t.innerText=e;var n=document.getElementsByTagName("body")[0];n.appendChild(t),t.select(),document.execCommand("copy"),n.removeChild(t)}function xe(e,t){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}function Me(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.mode,r=void 0===n?"datetime":n,i=new Date(e),u=i.toLocaleDateString("en",{day:"2-digit",month:"long",year:"numeric"});if("date"===r)return u;var o=i.toLocaleTimeString("en",{hour:"numeric",minute:"2-digit"});return"".concat(u,", ").concat(o)}function Fe(e){var t=Math.floor(e/86400);e%=86400;var n=Math.floor(e/he);return e%=he,[t,n,Math.floor(e/60),e%=60].map((function(e){return e.toString().padStart(2,"0")})).join(":")}function je(e,t){Oe||(Oe=document.createElement("canvas"));var n=Oe.getContext("2d");return n.font=t,n.measureText(e).width}function qe(){return{height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}function Le(e){Ce=e.bucketUrl,Ae=e.defaultAssetPlaceholder,De=e.defaultAvatar}function We(e){return/^(https?:)?\/\//.test(e)}function He(e){var t=Te.findDOMNode(e);return{width:t.offsetWidth,height:t.offsetHeight}}function ze(e){return function(e){var t=new(m())(e).times(x);return t.lt(F)?new(m())(F):t.gt(M)?new(m())(M):t}(e).plus(N)}var Ye={MILLISECOND:0,SECOND:1,MINUTE:2,HOUR:3,DAY:4,MONTH:5},Be=["agreement_agent_requested","agreement_agent_signed"],Xe=["agreement_signed"].concat(Be),$e=["agreement_requested"].concat(d()(Xe)),ke=["verified"].concat(d()($e)),Ve=["verification_requested"].concat(d()(ke));function Ge(e){return[e.line_1,e.line_2,e.apartment,e.town,e.area,e.zip,e.country].filter((function(e){return Boolean(e)})).join(", ")}function Ke(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";return e||t?"".concat(e||"").concat(e&&t?" ":"").concat(t||""):n}function Ze(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Ye.HOUR,t=new Date;return e>=Ye.SECOND&&t.setUTCMilliseconds(0),e>=Ye.MINUTE&&t.setUTCSeconds(0),e>=Ye.HOUR&&t.setUTCMinutes(0),e>=Ye.DAY&&t.setUTCHours(0),e>=Ye.MONTH&&t.setUTCDate(1),t}function Qe(e,t){return new Promise((function(n,r){var i=setTimeout(n,e);"function"==typeof t&&t((function(){clearTimeout(i),r()}))}))}function Je(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"count_total";if(e.length<1)return{items:[],countTotal:0};var n=Number(e[0][t]);return e.forEach((function(e){delete e.count_total})),{items:e,countTotal:n}}function et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.keys(e).filter((function(e){return!n.includes(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}function nt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.filter((function(t){return et(e,t)})).reduce((function(t,n){return t[n]=e[n],t}),{})}function rt(e){return Be.includes(e)}function it(e){return Xe.includes(e)}function ut(e){return $e.includes(e)}function ot(e){return ke.includes(e)}function at(e){return Ve.includes(e)}function ct(e){return Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(t,"=").concat(encodeURIComponent(e))})).join("&"):"".concat(t,"=").concat(encodeURIComponent(n))})).join("&")}function st(e,t){return[].concat.apply([],e.map((function(n,r){return r%t?[]:[e.slice(r,r+t)]})))}var ft=n(148),dt=new Map,lt=new Set;window.addEventListener("resize",(function(){var e=qe();lt.forEach((function(t){t(e)})),dt.forEach((function(e,t){t.current&&e(He(t.current))}))}));var mt=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1e3,t=(0,ft.useState)(new Date),n=ce()(t,2),r=n[0],i=n[1];return(0,ft.useEffect)((function(){var t=setInterval((function(){i(new Date)}),e);return function(){return clearInterval(t)}}),[e]),r},pt=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{width:0,height:0},n=(0,ft.useState)(t),r=ce()(n,2),i=r[0],u=r[1];return(0,ft.useEffect)((function(){return dt.set(e,u),e.current&&u(He(e.current)),function(){dt["delete"](e)}}),[e]),[i]},_t=function(){var e=(0,ft.useState)(qe()),t=ce()(e,2),n=t[0],r=t[1];return(0,ft.useEffect)((function(){return lt.add(r),function(){lt["delete"](r)}}),[]),[n]}},297:t=>{"use strict";t.exports=e},815:e=>{"use strict";e.exports=t},148:e=>{"use strict";e.exports=r},268:e=>{"use strict";e.exports=n}},u={};function o(e){if(u[e])return u[e].exports;var t=u[e]={exports:{}};return i[e](t,t.exports,o),t.exports}return o.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(344)})()}));
//# sourceMappingURL=index.browser.js.map